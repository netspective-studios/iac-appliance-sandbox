# The following are passed in a --extra-vars via Ansible CLI
# - nssa_user (the user that we're deploying for)
# - nssa_home (absolute path to NSSA installation)
# - nssa_is_wsl (0 for no, 1 for WSL1, 2 for WSL2)
# - nssa_appliance_defn_home (absolute path to root of appliance defn)
# - nssa_appliance_conf_home (usually {{nssa_appliance_defn_home}}/conf)
# - nssa_appliance_secrets_home (usually {{nssa_appliance_defn_home}}/secrets.d)

docker_users: ["{{ appliance_admin_user }}"]
# See https://github.com/bertvv/ansible-role-samba/blob/docker-tests/test.yml for all vars

samba_netbios_name: "{{ ansible_hostname }}"
samba_workgroup: "{{ appliance_type }}"

samba_load_homes: false
samba_load_printers: false
samba_create_varwww_symlinks: false

samba_map_to_guest: Never
samba_log: /var/log/samba.log
samba_log_size: 60000
samba_log_level: '3 passdb:5 auth:10 winbind:2 '

samba_shares:
  - name: "{{ appliance_admin_user }}_home"
    comment: "{{ appliance_admin_user }} Home Folder"
    path: "/home/{{ appliance_admin_user }}"
    owner: "{{ appliance_admin_user }}"
    browseable: yes
    read_only: no
    guest_ok: no
    write_list: "{{ appliance_admin_user }}"
    group: "{{ appliance_admin_user }}"

dragonfly_mta_insecure: false
dragonfly_mta_securetransfer: true
dragonfly_mta_starttls: true
